<app-navbar [title]="'商品列表'"></app-navbar>
<app-tabbar></app-tabbar>

<div *ngIf="results" class="content-scrollable has-footer">
  <div class="formula">
    <img src="/assets/images/product/formula.png">
  </div>

  <div class="formula-compute">
    <div class="weui-flex">
      <div class="weui-flex__item">
        <em>A = {{results.dateSum}}</em>
        <p><b>数值A</b> = 截止该商品满份时整站最后100条参与时间之和</p>
      </div>
      <div class="weui-flex__item">
        <em>幸运码 = {{results.randomnumber}}</em>
        <p><b>幸运码</b> = {{results.dateSum}} 除以购买份数{{results.userCount}}取余数 = {{results.remainder}}，{{results.remainder}} + 1000001 = {{results.randomnumber}}</p>
      </div>
    </div>
  </div>

  <div class="content">
    <table cellpadding="0" cellspacing="0" border="0">
      <thead>
      <tr>
        <th class="date">参与时间</th>
        <th class="mobile">幸运码</th>
        <th class="rmb">参与用户</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let item of results.recordList">
        <td class="date">{{item.buyDate}} {{item.timeBuf.split('.')[0]}}</td>
        <td class="mobile">{{item.dateLong}}</td>
        <td class="rmb">{{item.userName}}</td>
      </tr>
      </tbody>
    </table>
  </div>

  <div class="content">
    <div class="rule-list">
      <div class="rule-tit"><em>计算规则</em></div>
      <dl class="rule-txt">
        <dt><em>1</em></dt>
        <dd><p class="txt">商品的最后一个号码分配完毕后，将公示该分配时间点前本站全部商品的最后100个参与时间；</p></dd>
      </dl>
      <dl class="rule-txt">
        <dt><em>2</em></dt>
        <dd>
          <p class="txt">将这100个时间的数值进行求和（得出数值A）（每个时间按时、分、秒、毫秒的顺序组合，如20:15:25.362则为201525362）；</p>
        </dd>
      </dl>
      <dl class="rule-txt">
        <dt><em>3</em></dt>
        <dd>
          <p class="txt">数值A 除以该商品总需人次得到的余数 + 原始数 1000001，得到最终幸运号码，拥有该幸运号码者，直接获得该商品。</p>
        </dd>
      </dl>
    </div>
  </div>
</div>
